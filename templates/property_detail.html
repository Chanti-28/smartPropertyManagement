{% extends "base.html" %}
{% block content %}
<div class="row">
  <div class="col-md-6">
    {% if prop.image_filename %}
      <img src="{{ url_for('uploaded_file', filename=prop.image_filename) }}" class="img-fluid rounded shadow-sm mb-3" alt="{{ prop.title }}">
    {% else %}
      <div class="property-detail-placeholder d-flex align-items-center justify-content-center mb-3">
        <span class="display-4">üè¢</span>
      </div>
    {% endif %}
  </div>
  <div class="col-md-6">
    <h2 class="mb-1">{{ prop.title }}</h2>
    <p class="text-muted mb-2">
      {{ prop.address }}, {{ prop.city }}
    </p>
    <p class="mb-2">
      <span class="badge bg-info text-dark me-2">{{ prop.status }}</span>
      <span class="badge bg-light text-dark">‚Ç¨{{ '%.2f'|format(prop.monthly_rent) }}/month</span>
    </p>
    <p class="mb-3">
      {{ prop.description }}
    </p>
    <p class="small text-muted">
      Created at {{ prop.created_at.strftime("%Y-%m-%d %H:%M") }}
    </p>

    <div class="d-flex gap-2 mt-3">
      <a href="{{ url_for('edit_property', property_id=prop.id) }}" class="btn btn-primary cloud-btn">Edit</a>
      <form method="post" action="{{ url_for('delete_property', property_id=prop.id) }}" onsubmit="return confirm('Are you sure you want to delete this property?');">
        <button type="submit" class="btn btn-outline-danger">Delete</button>
      </form>
      <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">Back</a>
    </div>
  </div>
</div>
{% endblock %}
